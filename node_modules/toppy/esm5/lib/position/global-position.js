/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { InsidePlacement } from '../models';
import { setWH } from '../utils';
import { ToppyPosition } from './position';
/**
 * @record
 */
function GlobalPositionConfig() { }
if (false) {
    /** @type {?|undefined} */
    GlobalPositionConfig.prototype.placement;
    /** @type {?|undefined} */
    GlobalPositionConfig.prototype.offset;
    /** @type {?|undefined} */
    GlobalPositionConfig.prototype.width;
    /** @type {?|undefined} */
    GlobalPositionConfig.prototype.height;
}
var GlobalPosition = /** @class */ (function (_super) {
    tslib_1.__extends(GlobalPosition, _super);
    function GlobalPosition(config) {
        var _this = _super.call(this) || this;
        _this.config = { placement: InsidePlacement.CENTER, width: 100, height: 100, offset: 0 };
        _this.updateConfig(config);
        return _this;
    }
    /**
     * @param {?=} hostEl
     * @return {?}
     */
    GlobalPosition.prototype.getPositions = /**
     * @param {?=} hostEl
     * @return {?}
     */
    function (hostEl) {
        /** @type {?} */
        var host = (/** @type {?} */ (hostEl.getBoundingClientRect()));
        /** @type {?} */
        var src = {
            width: window['innerWidth'],
            height: window['innerHeight']
        };
        var _a = this.config, w = _a.width, h = _a.height;
        w = setWH(src, host, 'width', w);
        h = setWH(src, host, 'height', h);
        /** @type {?} */
        var props = this.calc(this.config.placement, src, host);
        return tslib_1.__assign({}, props, { width: w, height: h, position: 'fixed', extra: this.config.placement });
    };
    /**
     * @private
     * @param {?} placement
     * @param {?} src
     * @param {?} host
     * @return {?}
     */
    GlobalPosition.prototype.calc = /**
     * @private
     * @param {?} placement
     * @param {?} src
     * @param {?} host
     * @return {?}
     */
    function (placement, src, host) {
        var _a = tslib_1.__read(placement.split(''), 2), main = _a[0], sub = _a[1];
        /** @type {?} */
        var p = {};
        if (main === 't') {
            p.top = this.config.offset;
        }
        if (main === 'b') {
            p.bottom = this.config.offset;
        }
        if ((main === 'l' || main === 'r' || main === 'c') && !sub) {
            p.top = (src.height - host.height) / 2;
        }
        if ((main === 't' || main === 'b' || main === 'c') && !sub) {
            p.left = (src.width - host.width) / 2;
        }
        if ((main === 'l' && !sub) || sub === 'l') {
            p.left = this.config.offset;
        }
        if ((main === 'r' && !sub) || sub === 'r') {
            p.right = this.config.offset;
        }
        return p;
    };
    return GlobalPosition;
}(ToppyPosition));
export { GlobalPosition };
if (false) {
    /**
     * @type {?}
     * @protected
     */
    GlobalPosition.prototype.config;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2xvYmFsLXBvc2l0aW9uLmpzIiwic291cmNlUm9vdCI6Im5nOi8vdG9wcHkvIiwic291cmNlcyI6WyJsaWIvcG9zaXRpb24vZ2xvYmFsLXBvc2l0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUM1QyxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBQ2pDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxZQUFZLENBQUM7Ozs7QUFFM0MsbUNBS0M7OztJQUpDLHlDQUE0Qjs7SUFDNUIsc0NBQWdCOztJQUNoQixxQ0FBd0I7O0lBQ3hCLHNDQUF5Qjs7QUFHM0I7SUFBb0MsMENBQWE7SUFHL0Msd0JBQVksTUFBNEI7UUFBeEMsWUFDRSxpQkFBTyxTQUVSO1FBTFMsWUFBTSxHQUF5QixFQUFFLFNBQVMsRUFBRSxlQUFlLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUM7UUFJakgsS0FBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQzs7SUFDNUIsQ0FBQzs7Ozs7SUFDRCxxQ0FBWTs7OztJQUFaLFVBQWEsTUFBb0I7O1lBQ3pCLElBQUksR0FBRyxtQkFBQSxNQUFNLENBQUMscUJBQXFCLEVBQUUsRUFBTzs7WUFDNUMsR0FBRyxHQUFHO1lBQ1YsS0FBSyxFQUFFLE1BQU0sQ0FBQyxZQUFZLENBQUM7WUFDM0IsTUFBTSxFQUFFLE1BQU0sQ0FBQyxhQUFhLENBQUM7U0FDOUI7UUFDRyxJQUFBLGdCQUFxQyxFQUFuQyxZQUFRLEVBQUUsYUFBeUI7UUFFekMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNqQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDOztZQUU1QixLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDO1FBQ3pELDRCQUNLLEtBQUssSUFDUixLQUFLLEVBQUUsQ0FBQyxFQUNSLE1BQU0sRUFBRSxDQUFDLEVBQ1QsUUFBUSxFQUFFLE9BQU8sRUFDakIsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxJQUM1QjtJQUNKLENBQUM7Ozs7Ozs7O0lBRU8sNkJBQUk7Ozs7Ozs7SUFBWixVQUFhLFNBQTBCLEVBQUUsR0FBRyxFQUFFLElBQUk7UUFDMUMsSUFBQSwyQ0FBaUMsRUFBaEMsWUFBSSxFQUFFLFdBQTBCOztZQUNqQyxDQUFDLEdBQVEsRUFBRTtRQUVqQixJQUFJLElBQUksS0FBSyxHQUFHLEVBQUU7WUFDaEIsQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztTQUM1QjtRQUNELElBQUksSUFBSSxLQUFLLEdBQUcsRUFBRTtZQUNoQixDQUFDLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO1NBQy9CO1FBQ0QsSUFBSSxDQUFDLElBQUksS0FBSyxHQUFHLElBQUksSUFBSSxLQUFLLEdBQUcsSUFBSSxJQUFJLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDMUQsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUN4QztRQUVELElBQUksQ0FBQyxJQUFJLEtBQUssR0FBRyxJQUFJLElBQUksS0FBSyxHQUFHLElBQUksSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFO1lBQzFELENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDdkM7UUFDRCxJQUFJLENBQUMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsS0FBSyxHQUFHLEVBQUU7WUFDekMsQ0FBQyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztTQUM3QjtRQUNELElBQUksQ0FBQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxLQUFLLEdBQUcsRUFBRTtZQUN6QyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO1NBQzlCO1FBRUQsT0FBTyxDQUFDLENBQUM7SUFDWCxDQUFDO0lBQ0gscUJBQUM7QUFBRCxDQUFDLEFBdERELENBQW9DLGFBQWEsR0FzRGhEOzs7Ozs7O0lBckRDLGdDQUFtSCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluc2lkZVBsYWNlbWVudCB9IGZyb20gJy4uL21vZGVscyc7XG5pbXBvcnQgeyBzZXRXSCB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IFRvcHB5UG9zaXRpb24gfSBmcm9tICcuL3Bvc2l0aW9uJztcblxuaW50ZXJmYWNlIEdsb2JhbFBvc2l0aW9uQ29uZmlnIHtcbiAgcGxhY2VtZW50PzogSW5zaWRlUGxhY2VtZW50O1xuICBvZmZzZXQ/OiBudW1iZXI7XG4gIHdpZHRoPzogc3RyaW5nIHwgbnVtYmVyO1xuICBoZWlnaHQ/OiBzdHJpbmcgfCBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBHbG9iYWxQb3NpdGlvbiBleHRlbmRzIFRvcHB5UG9zaXRpb24ge1xuICBwcm90ZWN0ZWQgY29uZmlnOiBHbG9iYWxQb3NpdGlvbkNvbmZpZyA9IHsgcGxhY2VtZW50OiBJbnNpZGVQbGFjZW1lbnQuQ0VOVEVSLCB3aWR0aDogMTAwLCBoZWlnaHQ6IDEwMCwgb2Zmc2V0OiAwIH07XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBHbG9iYWxQb3NpdGlvbkNvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy51cGRhdGVDb25maWcoY29uZmlnKTtcbiAgfVxuICBnZXRQb3NpdGlvbnMoaG9zdEVsPzogSFRNTEVsZW1lbnQpIHtcbiAgICBjb25zdCBob3N0ID0gaG9zdEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIGFzIGFueTtcbiAgICBjb25zdCBzcmMgPSB7XG4gICAgICB3aWR0aDogd2luZG93Wydpbm5lcldpZHRoJ10sXG4gICAgICBoZWlnaHQ6IHdpbmRvd1snaW5uZXJIZWlnaHQnXVxuICAgIH07XG4gICAgbGV0IHsgd2lkdGg6IHcsIGhlaWdodDogaCB9ID0gdGhpcy5jb25maWc7XG5cbiAgICB3ID0gc2V0V0goc3JjLCBob3N0LCAnd2lkdGgnLCB3KTtcbiAgICBoID0gc2V0V0goc3JjLCBob3N0LCAnaGVpZ2h0JywgaCk7XG5cbiAgICBjb25zdCBwcm9wcyA9IHRoaXMuY2FsYyh0aGlzLmNvbmZpZy5wbGFjZW1lbnQsIHNyYywgaG9zdCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgd2lkdGg6IHcsXG4gICAgICBoZWlnaHQ6IGgsXG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIGV4dHJhOiB0aGlzLmNvbmZpZy5wbGFjZW1lbnRcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjKHBsYWNlbWVudDogSW5zaWRlUGxhY2VtZW50LCBzcmMsIGhvc3QpIHtcbiAgICBjb25zdCBbbWFpbiwgc3ViXSA9IHBsYWNlbWVudC5zcGxpdCgnJyk7XG4gICAgY29uc3QgcDogYW55ID0ge307XG5cbiAgICBpZiAobWFpbiA9PT0gJ3QnKSB7XG4gICAgICBwLnRvcCA9IHRoaXMuY29uZmlnLm9mZnNldDtcbiAgICB9XG4gICAgaWYgKG1haW4gPT09ICdiJykge1xuICAgICAgcC5ib3R0b20gPSB0aGlzLmNvbmZpZy5vZmZzZXQ7XG4gICAgfVxuICAgIGlmICgobWFpbiA9PT0gJ2wnIHx8IG1haW4gPT09ICdyJyB8fCBtYWluID09PSAnYycpICYmICFzdWIpIHtcbiAgICAgIHAudG9wID0gKHNyYy5oZWlnaHQgLSBob3N0LmhlaWdodCkgLyAyO1xuICAgIH1cblxuICAgIGlmICgobWFpbiA9PT0gJ3QnIHx8IG1haW4gPT09ICdiJyB8fCBtYWluID09PSAnYycpICYmICFzdWIpIHtcbiAgICAgIHAubGVmdCA9IChzcmMud2lkdGggLSBob3N0LndpZHRoKSAvIDI7XG4gICAgfVxuICAgIGlmICgobWFpbiA9PT0gJ2wnICYmICFzdWIpIHx8IHN1YiA9PT0gJ2wnKSB7XG4gICAgICBwLmxlZnQgPSB0aGlzLmNvbmZpZy5vZmZzZXQ7XG4gICAgfVxuICAgIGlmICgobWFpbiA9PT0gJ3InICYmICFzdWIpIHx8IHN1YiA9PT0gJ3InKSB7XG4gICAgICBwLnJpZ2h0ID0gdGhpcy5jb25maWcub2Zmc2V0O1xuICAgIH1cblxuICAgIHJldHVybiBwO1xuICB9XG59XG4iXX0=